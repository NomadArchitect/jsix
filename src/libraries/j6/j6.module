# vim: ft=python

j6 = module("j6",
    kind = "lib",
    includes = [ "include" ],
    sources = [
        "init.cpp",
        "include/j6/syscalls.h.cog",
        "syscalls.s.cog",
    ])

from glob import glob
definitions = glob('definitions/**/*.def', recursive=True)

j6.add_depends([
        "include/j6/syscalls.h.cog",
        "syscalls.s.cog",
    ], definitions)

